<%- layout('layout/template.ejs') %>

<div class="render-movies row row-cols-1 row-cols-md-3 g-4 w-75 py-5 m-auto">
<% for (movie of movies) { %>
    <div class="col w-25">
        <div class="card border-bottom bg-dark text-white text-opacity-75 h-100 w-100">
            <div style="height:25rem">
                <img src="https://image.tmdb.org/t/p/original/<%=movie.image%>" class="card-img-top h-100" alt="...">
            </div>
            <div class="card-body">
                <h5 class="card-title"><%=movie.title%></h5>
                <div class="d-flex justify-content-between align-items-center">
                    <p class="card-text"><%=movie.release_info%></p>
                    <form action="/homepage/movies" method="POST">
                        <input type="hidden" id="hiddenInput" name="movieId" value="<%=movie.id%>" />
                        <input type="submit" class="text-decoration-none h2 bg-transparent border-0 link-danger"
                            value="&hearts;">
                    </form>
                    <button type="button" class="btn fs-5" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        &#128172;
                    </button>
                    
                </div>
                <p class="card-text"><%=movie.description%></p>
            </div>

        </div>
    </div>
<% } %> 
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form action="/homepage/moviesComment" method="POST" class="row">
                <div class="col-10">
                    <input type="hidden" id="hiddenInput" name="movieId" value="<%=movie.id%>" />
                    <input type="text" class="form-control " placeholder="Comment" name="comment" id="validationCustomUsername" />
                </div>
                <div class="col-2">
                    <input class="btn btn-info" type="submit" value="Send">
                </div>
            </form>
        </div>
    </div>
</div>